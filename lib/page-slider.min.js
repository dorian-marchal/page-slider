!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.PageSlider=i(t.jQuery)}(this,function(t){"use strict";return function(i){this.transitionsEnabled=!0,this.transitionDurationMs=300;var n,e=[];i.css({height:"100%",width:"100%",overflow:"hidden"});var s=function(t,i){var n="0px";switch(i){case"left":n="-100%";break;case"right":n="100%"}var e="translate3d("+n+", 0px , 0px)";t.css({webkitTransform:e,transform:e})},r=function(i){if(i instanceof t)return i;var n=t();return i.forEach(function(t){n=n.add(t)}),n},o=function(t){t=r(t),t.css({webkitTransitionDuration:this.transitionDurationMs+"ms",transitionDuration:this.transitionDurationMs+"ms"})},a=function(t){t=r(t),t.css({webkitTransform:"none",transform:"none",webkitTransitionDuration:"0s",transitionDuration:"0s"})};this.setTransitionDurationMs=function(t){this.transitionDurationMs=t},this.disableTransitions=function(){this.transitionsEnabled=!1},this.enableTransitions=function(){this.transitionsEnabled=!0},this.getNextSlideOrigin=function(){var t=e.length;return 0===t?null:location.hash===e[t-2]?"left":"right"},this.slidePage=function(t,i){var n=location.hash,s=this.getNextSlideOrigin();switch(s){case"left":e.pop(),this.slidePageFrom(t,"left",i);break;case"right":e.push(n),this.slidePageFrom(t,"right",i);break;default:e.push(n),this.slidePageFrom(t,null,i)}},this.slidePageFrom=function(e,r,f){f=f||{},f.beforeTransition=f.beforeTransition||t.noop,f.afterTransition=f.afterTransition||t.noop;var u=n,h=!u;if(e.addClass("page"),i.append(e),f.beforeTransition(),h||!r||!this.transitionsEnabled)return a(e),u&&u.remove(),n=e,void f.afterTransition(h);s(e,r);var c=setTimeout(function(){l()},this.transitionDurationMs+100);n.one("transitionend webkitTransitionEnd",function(){l()}),o.call(this,[e,u]),i[0].offsetWidth,setTimeout(function(){s(e,"center"),s(u,"left"===r?"right":"left"),n=e},0);var l=function(){a(n),i.find("> .page:not(:last)").remove(),clearTimeout(c),f.afterTransition(!1)}}}});